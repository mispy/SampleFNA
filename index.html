<!DOCTYPE html> 
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>2D Platformer Starter Kit (JSIL + FNA + SDL2 + Emscripten)</title>
    <style>
      html, body {
        font-family: Fira Sans, Calibri, Tahoma, sans-serif;
      }
    </style>
  </head>
  <body onload="onLoad()">
    <script type="text/javascript">
      var jsilConfig = {
	      libraryRoot: "../JSIL/Libraries/",
        manifestRoot: "bin/JSIL/",
        scriptRoot: "bin/JSIL/",
        fileRoot: "bin/JSIL/",
        assetRoot: "bin/JSIL/",
        contentRoot: "bin/JSIL/Content/",
        manifests: [          
          "Platformer2D.exe",
          "../../Platformer2D.mgcb",
          "../../SDL2.dll",
          "../../soft_oal.dll"
        ],
        readOnlyStorage: true,

        showProgressBar: true
      };

      window.assetsToLoad = [
      ]
    </script>
    <script src="../JSIL/Libraries/JSIL.js" type="text/javascript"></script>
    <script>
        JSIL.ThrowOnStaticCctorError = true;
    </script>

    <canvas id="canvas" width="800" height="480" style="display: block; margin-left: auto; margin-right: auto;">
    </canvas><br>
    <div id="log">
    <center><b><i>Ported with <a href="http://jsil.org/" target="_blank">JSIL</a> and <a href="http://emscripten.org/" target="_blank">Emscripten</a>. See the <a href="https://github.com/sq/SampleFNA/blob/master/README.md" target="_blank">Readme</a>.</i></b></center>
    <center><i>Use the arrow keys and spacebar, or press a button on your gamepad to enable it.</i></center>
    </div>
 
    <script type="text/javascript">
      function runMain () {
        // We can't invoke Main() since it disposes the Game immediately, breaking everything.
        window.asm = JSIL.GetAssembly("Platformer2D", true);
        var module = JSIL.PInvoke.GetModule("SDL2.dll");
        module.canvas = document.getElementById("canvas");
        module.memoryInitializerPrefixURL = "/Libraries/SDL2/";
        module.printErr = function(s) { console.error(s) };
        window.module = module;
        var game = new asm.Platformer2D.PlatformerGame();
        game.Run();
      };
    </script>
  </body>
</html>
